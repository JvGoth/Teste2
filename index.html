<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Interativo de Bioquímica</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        h1, h2 {
            text-align: center;
            color: #2c3e50;
        }
        .section {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin: 20px auto;
            padding: 20px;
            max-width: 800px;
        }
        .question {
            margin-bottom: 20px;
        }
        .question p {
            font-weight: bold;
        }
        .options {
            display: flex;
            flex-direction: column;
        }
        .option {
            background-color: #e7e7e7;
            border: none;
            border-radius: 4px;
            color: #333;
            cursor: pointer;
            margin: 5px 0;
            padding: 10px;
            text-align: left;
            transition: background-color 0.3s;
        }
        .option:hover {
            background-color: #d0d0d0;
        }
        .option.selected {
            background-color: #3498db;
            color: #fff;
        }
        .open-answer {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin: 5px 0;
            font-family: Arial, sans-serif;
        }
        .submit-btn {
            background-color: #27ae60;
            border: none;
            border-radius: 4px;
            color: #fff;
            cursor: pointer;
            display: block;
            font-size: 16px;
            margin: 20px auto 0;
            padding: 10px 20px;
            transition: background-color 0.3s;
        }
        .submit-btn:hover {
            background-color: #219653;
        }
        .feedback {
            margin-top: 20px;
            text-align: center;
        }
        .correct {
            color: #27ae60;
        }
        .incorrect {
            color: #e74c3c;
        }
        .result {
            background-color: #ecf0f1;
            border-radius: 4px;
            margin-top: 20px;
            padding: 10px;
        }
        .result ul {
            list-style-type: none;
            padding: 0;
        }
        .result li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>Quiz Interativo de Bioquímica</h1>
    <p style="text-align: center;">Este site contém questões interativas sobre vários tópicos de bioquímica. Selecione as respostas e clique em "Verificar" para ver os resultados. Inclui questões de múltipla escolha (nível faculdade+) e 10 abertas.</p>

    <!-- Seção 1: Reações Endergônicas e Exergônicas -->
    <div class="section" id="section1">
        <h2>Reações Endergônicas e Exergônicas</h2>
        <div id="questions1"></div>
        <button class="submit-btn" onclick="checkAnswers('section1')">Verificar Respostas</button>
        <div class="feedback" id="feedback1"></div>
        <div class="result" id="result1" style="display: none;"></div>
    </div>

    <!-- Seção 2: Gliconeogênese, Glicogênese e Glicólise -->
    <div class="section" id="section2">
        <h2>Gliconeogênese, Glicogênese e Glicólise</h2>
        <div id="questions2"></div>
        <button class="submit-btn" onclick="checkAnswers('section2')">Verificar Respostas</button>
        <div class="feedback" id="feedback2"></div>
        <div class="result" id="result2" style="display: none;"></div>
    </div>

    <!-- Seção 3: Introdução à Bioenergética e Respiração Celular -->
    <div class="section" id="section3">
        <h2>Introdução à Bioenergética e Respiração Celular</h2>
        <div id="questions3"></div>
        <button class="submit-btn" onclick="checkAnswers('section3')">Verificar Respostas</button>
        <div class="feedback" id="feedback3"></div>
        <div class="result" id="result3" style="display: none;"></div>
    </div>

    <!-- Seção 4: Lipídios -->
    <div class="section" id="section4">
        <h2>Lipídios</h2>
        <div id="questions4"></div>
        <button class="submit-btn" onclick="checkAnswers('section4')">Verificar Respostas</button>
        <div class="feedback" id="feedback4"></div>
        <div class="result" id="result4" style="display: none;"></div>
    </div>

    <!-- Seção 5: Questões Abertas (10 no total, distribuídas) -->
    <div class="section" id="section5">
        <h2>Questões Abertas (Nível Avançado)</h2>
        <p>Responda livremente nas caixas de texto. Verificação parcial baseada em palavras-chave.</p>
        <div id="questions5"></div>
        <button class="submit-btn" onclick="checkAnswers('section5')">Verificar Respostas</button>
        <div class="feedback" id="feedback5"></div>
        <div class="result" id="result5" style="display: none;"></div>
    </div>

    <script>
        // Função para embaralhar array (Fisher-Yates shuffle)
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Pools expandidos: ~25 MC por seção (nível faculdade+), todas em PT-BR
        const questionPools = {
            section1: [
                { type: 'mc', q: "A hidrólise de ATP é uma reação altamente:", options: ["A: endergônica", "B: aeróbia", "C: volátil", "D: exergônica"], correct: "D" },
                { type: 'mc', q: "As reações metabólicas podem ser classificadas em dois processos metabólicos. O processo no qual as reações levam à síntese de biomoléculas é denominado:", options: ["A: metabolismo oxidativo", "B: oxidação", "C: catabolismo", "D: anabolismo"], correct: "D" },
                { type: 'mc', q: "Que nome recebe a molécula considerada como a moeda energética dos seres vivos?", options: ["A: ADP.", "B: ATP.", "C: DNA.", "D: RNA.", "E: AMP."], correct: "B" },
                { type: 'mc', q: "A energia livre de Gibbs, ΔG, é negativa para:", options: ["A: processos exergônicos", "B: processos endergônicos", "C: estados de equilíbrio", "D: estados ativados"], correct: "A" },
                { type: 'mc', q: "Qual das seguintes é falsa sobre reações endergônicas e exergônicas?", options: ["A: Endergônicas têm ΔG positivo", "B: Exergônicas são espontâneas", "C: Enzimas alteram ΔG", "D: Acoplamento torna endergônicas viáveis"], correct: "C" },
                { type: 'mc', q: "Uma reação com ΔG = -686 kcal/mol é:", options: ["A: endergônica", "B: exergônica", "C: em equilíbrio", "D: não espontânea"], correct: "B" },
                { type: 'mc', q: "Reações exergônicas liberam:", options: ["A: energia", "B: apenas calor", "C: nada", "D: entropia"], correct: "A" },
                { type: 'mc', q: "Reações endergônicas requerem:", options: ["A: entrada de energia", "B: saída de energia", "C: nenhuma mudança", "D: apenas catalisador"], correct: "A" },
                { type: 'mc', q: "Nas células, processos endergônicos são impulsionados por:", options: ["A: hidrólise de ATP", "B: absorção de luz", "C: ambas A e B", "D: nenhuma"], correct: "C" },
                { type: 'mc', q: "Reações espontâneas têm ΔG:", options: ["A: negativo", "B: positivo", "C: zero", "D: indefinido"], correct: "A" },
                { type: 'mc', q: "Enzimas reduzem:", options: ["A: energia de ativação", "B: ΔG", "C: entropia", "D: entalpia"], correct: "A" },
                { type: 'mc', q: "Reações acopladas tornam ΔG geral:", options: ["A: negativo", "B: positivo", "C: zero", "D: variável"], correct: "A" },
                { type: 'mc', q: "A fixação de CO2 na fotossíntese é:", options: ["A: endergônica", "B: exergônica", "C: neutra", "D: explosiva"], correct: "A" },
                { type: 'mc', q: "O ΔG da hidrólise de ATP é aproximadamente:", options: ["A: -7,3 kcal/mol", "B: +7,3 kcal/mol", "C: 0", "D: +30 kcal/mol"], correct: "A" },
                { type: 'mc', q: "Em termodinâmica bioquímica, o acoplamento redox na cadeia de transporte de elétrons gera:", options: ["A: gradiente protônico para ATP sintase", "B: ΔG positivo direto", "C: entropia negativa total", "D: equilíbrio sem fluxo"], correct: "A" },
                { type: 'mc', q: "Uma reação com ΔH negativo e ΔS positivo é sempre:", options: ["A: exergônica", "B: endergônica", "C: em equilíbrio", "D: dependente de temperatura"], correct: "A" },
                { type: 'mc', q: "O papel das enzimas em reações endergônicas é:", options: ["A: reduzir Ea, facilitando acoplamento", "B: alterar ΔG", "C: aumentar entropia", "D: bloquear espontaneidade"], correct: "A" },
                { type: 'mc', q: "Em sistemas abertos celulares, o ΔG efetivo difere do padrão porque:", options: ["A: concentrações não são 1M", "B: temperatura é 0K", "C: pH é neutro sempre", "D: enzimas ignoram isso"], correct: "A" },
                { type: 'mc', q: "A síntese de proteínas no ribossomo é endergônica devido a:", options: ["A: ligações peptídicas requerendo GTP/ATP", "B: hidrólise espontânea", "C: baixa entropia de aminoácidos", "D: ausência de chaperonas"], correct: "A" },
                { type: 'mc', q: "O conceito de 'equilíbrio de Nash' em vias metabólicas acopladas refere-se a:", options: ["A: otimização energética via regulação alostérica", "B: combustão total", "C: isolamento termodinâmico", "D: reversibilidade total"], correct: "A" },
                { type: 'mc', q: "Em fotossíntese, o transporte de elétrons não cíclico acopla:", options: ["A: produção de ATP e NADPH para fixação endergônica", "B: apenas O2 sem energia", "C: ΔG zero", "D: exergônico isolado"], correct: "A" },
                { type: 'mc', q: "A constante de equilíbrio K_eq relaciona-se com ΔG° por:", options: ["A: ΔG° = -RT ln K_eq", "B: ΔG° = RT K_eq", "C: independência total", "D: apenas entalpia"], correct: "A" },
                { type: 'mc', q: "Reações com ΔG próximo a zero são sensíveis a:", options: ["A: pequenas mudanças de concentração", "B: temperatura extrema", "C: ausência de solvente", "D: catalisadores inorgânicos"], correct: "A" },
                { type: 'mc', q: "O acoplamento fosforilativo na mitocôndria explora:", options: ["A: quimiosmose para converter ΔG redox em ATP", "B: combustão direta", "C: difusão livre de prótons", "D: equilíbrio osmótico"], correct: "A" }
            ],
            section2: [
                { type: 'mc', q: "A glicólise é um importante processo que ocorre no interior da célula em que uma molécula de glicose é quebrada em:", options: ["A: uma molécula de ácido pirúvico.", "B: duas moléculas de ácido pirúvico.", "C: três moléculas de ácido pirúvico.", "D: em uma molécula de ácido nucleico.", "E: em duas moléculas de ácido nucleico."], correct: "B" },
                { type: 'mc', q: "Analisando as alternativas abaixo, marque aquela em que é indicado o local onde acontece o processo de glicólise.", options: ["A: na mitocôndria.", "B: no cloroplasto.", "C: no ribossomo.", "D: no retículo endoplasmático.", "E: no citosol."], correct: "E" },
                { type: 'mc', q: "A glicólise pode ser dividida em duas etapas, uma fase de investimento e uma fase de compensação. Na fase de investimento, utilizam-se __ ATP e, na fase de compensação, são produzidos ___ ATP. Analise as alternativas e marque aquela que completa, respectiva e adequadamente, os dois espaços acima.", options: ["A: 1 e 2.", "B: 2 e 2.", "C: 2 e 3.", "D: 2 e 4.", "E: 3 e 5."], correct: "D" },
                { type: 'mc', q: "Uma enzima usada tanto na glicólise quanto na gliconeogênese é:", options: ["A: 3-fosfoglicerato quinase", "B: glucose-6-fosfatase", "C: hexoquinase", "D: fosfofrutoquinase-1"], correct: "A" },
                { type: 'mc', q: "Qual não é um precursor de glicose em animais?", options: ["A: lactato", "B: glicerol", "C: acetil-CoA", "D: alanina"], correct: "C" },
                { type: 'mc', q: "A gliconeogênese é estimulada por:", options: ["A: glucagon", "B: insulina", "C: glicose alta", "D: ATP baixo"], correct: "A" },
                { type: 'mc', q: "A glicogênese é a síntese de:", options: ["A: glicogênio a partir de glicose", "B: glicose a partir de glicogênio", "C: lactato a partir de piruvato", "D: gordura a partir de carboidratos"], correct: "A" },
                { type: 'mc', q: "O saldo líquido de ATP da glicólise é:", options: ["A: 2", "B: 4", "C: 36", "D: 0"], correct: "A" },
                { type: 'mc', q: "A PFK-1 é inibida por:", options: ["A: ATP", "B: AMP", "C: frutose-2,6-bisfosfato", "D: ADP"], correct: "A" },
                { type: 'mc', q: "A glicogenólise é acelerada por:", options: ["A: glucagon", "B: insulina", "C: glicose", "D: UTP"], correct: "A" },
                { type: 'mc', q: "Na glicólise, glicose a piruvato ocorre no:", options: ["A: citosol", "B: mitocôndria", "C: núcleo", "D: RE"], correct: "A" },
                { type: 'mc', q: "Enzima de bypass na gliconeogênese para piruvato quinase é:", options: ["A: piruvato carboxilase", "B: enolase", "C: aldolase", "D: mutase"], correct: "A" },
                { type: 'mc', q: "A doença de armazenamento de glicogênio de von Gierke afeta:", options: ["A: glucose-6-fosfatase", "B: enzima desramificadora", "C: sintase", "D: fosforilase"], correct: "A" },
                { type: 'mc', q: "A frutose-2,6-bisfosfato ativa:", options: ["A: PFK-1", "B: FBPase-1", "C: ambas", "D: nenhuma"], correct: "A" },
                { type: 'mc', q: "Na regulação da glicólise, o citrato inibe PFK-1 para:", options: ["A: sinalizar excesso de energia do TCA", "B: ativar gliconeogênese", "C: aumentar NADH", "D: bloquear piruvato"], correct: "A" },
                { type: 'mc', q: "O shuttle de malato-aspartato transporta equivalentes redutores da glicólise para:", options: ["A: mitocôndria, gerando 2,5 ATP/NADH", "B: citosol apenas", "C: peroxisomas", "D: sem perda energética"], correct: "A" },
                { type: 'mc', q: "Em hipóxia, o acúmulo de lactato na glicólise anaeróbica é devido a:", options: ["A: regeneração de NAD+ via LDH", "B: produção de ATP extra", "C: inibição de piruvato desidrogenase", "D: bypass do ciclo de Krebs"], correct: "A" },
                { type: 'mc', q: "A glicogênese ramificada usa glicogênio sintase e:", options: ["A: glicogenina como primer e ramificadora", "B: fosforilase apenas", "C: desramificadora constante", "D: insulina inibindo"], correct: "A" },
                { type: 'mc', q: "Na gliconeogênese, o bypass da PFK-1 é via:", options: ["A: frutose-1,6-bisfosfatase, regulada por F2,6BP", "B: hexoquinase reversa", "C: aldolase direta", "D: sem regulação"], correct: "A" },
                { type: 'mc', q: "O efeito Warburg em células tumorais favorece glicólise aeróbica para:", options: ["A: biossíntese rápida de nucleotídeos", "B: eficiência máxima de ATP", "C: redução de lactato", "D: inibição de mitocôndrias"], correct: "A" },
                { type: 'mc', q: "A regulação hormonal da glicogênese envolve:", options: ["A: insulina ativando sintase via desfosforilação", "B: glucagon inibindo sempre", "C: epinefrina promovendo síntese", "D: sem cAMP"], correct: "A" },
                { type: 'mc', q: "Em deficiências de piruvato quinase, há acúmulo de:", options: ["A: intermediários upstream, levando a anemia hemolítica", "B: glicose excessiva", "C: ATP alto constante", "D: sem impacto"], correct: "A" },
                { type: 'mc', q: "O NADH da glicólise é reoxidado em condições aeróbicas via:", options: ["A: shuttle de glicerol-3-fosfato ou malato", "B: direto na mitocôndria", "C: fermentação obrigatória", "D: sem necessidade"], correct: "A" },
                { type: 'mc', q: "A gliconeogênese consome quantos ATP/GTP por glicose?", options: ["A: 6", "B: 2", "C: 4", "D: 38"], correct: "A" }
            ],
            section3: [
                { type: 'mc', q: "Na respiração celular, a célula é capaz de produzir energia para o seu funcionamento. Algumas etapas desse processo ocorrem no interior de uma organela denominada de:", options: ["A: Complexo golgiense.", "B: Mitocôndria.", "C: Cloroplasto.", "D: Retículo endoplasmático.", "E: Ribossomo."], correct: "B" },
                { type: 'mc', q: "Sabemos que a respiração celular é constituída por três etapas principais. Analise as alternativas a seguir e marque a etapa da respiração celular que ocorre no citosol.", options: ["A: Glicólise.", "B: Cadeia respiratória.", "C: Ciclo de Calvin.", "D: Ciclo de Krebs."], correct: "A" },
                { type: 'mc', q: "Vias metabólicas que liberam energia são:", options: ["A: catabólicas", "B: anabólicas", "C: ambas", "D: nenhuma"], correct: "A" },
                { type: 'mc', q: "A fosforilação oxidativa produz:", options: ["A: ATP", "B: NADH", "C: FADH2", "D: CO2"], correct: "A" },
                { type: 'mc', q: "Produto final da glicólise é:", options: ["A: piruvato", "B: glicose", "C: acetil-CoA", "D: lactato"], correct: "A" },
                { type: 'mc', q: "A respiração aeróbica requer:", options: ["A: oxigênio", "B: CO2", "C: nitrogênio", "D: luz"], correct: "A" },
                { type: 'mc', q: "Maior parte do ATP da respiração vem de:", options: ["A: cadeia de transporte de elétrons", "B: glicólise", "C: ciclo de Krebs", "D: fermentação"], correct: "A" },
                { type: 'mc', q: "A glicólise produz ___ ATP.", options: ["A: 2", "B: 4", "C: 34", "D: 38"], correct: "A" },
                { type: 'mc', q: "O ciclo de Krebs ocorre na:", options: ["A: matriz mitocondrial", "B: citosol", "C: membrana interna", "D: membrana externa"], correct: "A" },
                { type: 'mc', q: "CO2 é produzido no:", options: ["A: ciclo de Krebs", "B: glicólise", "C: ETC", "D: ATP sintase"], correct: "A" },
                { type: 'mc', q: "A fermentação regenera:", options: ["A: NAD+", "B: FAD", "C: ATP", "D: O2"], correct: "A" },
                { type: 'mc', q: "ATP total da glicose aeróbica:", options: ["A: 30-32", "B: 2", "C: 4", "D: 36 exato"], correct: "A" },
                { type: 'mc', q: "A ETC usa O2 como:", options: ["A: aceptor final de elétrons", "B: doador de prótons", "C: fonte de energia", "D: catalisador"], correct: "A" },
                { type: 'mc', q: "Desacoplamento aumenta:", options: ["A: calor", "B: ATP", "C: eficiência", "D: prótons"], correct: "A" },
                { type: 'mc', q: "O complexo I da ETC bombeia quantos prótons por NADH?", options: ["A: 4", "B: 2", "C: 6", "D: 0"], correct: "A" },
                { type: 'mc', q: "O ciclo de Krebs é anfibólico porque fornece:", options: ["A: precursores para biossíntese e e- para ETC", "B: apenas ATP", "C: CO2 exclusivo", "D: sem NADH"], correct: "A" },
                { type: 'mc', q: "O inibidor rotenona bloqueia:", options: ["A: complexo I, reduzindo gradiente protônico", "B: ATP sintase", "C: citrato sintase", "D: glicólise"], correct: "A" },
                { type: 'mc', q: "A ATP sintase usa rotação para:", options: ["A: sintetizar ATP via quimiosmose", "B: transportar elétrons", "C: produzir calor", "D: inverter fluxo"], correct: "A" },
                { type: 'mc', q: "O efeito Pasteur refere-se à:", options: ["A: inibição da glicólise por O2", "B: aceleração por CO2", "C: fermentação em aerobiose", "D: sem impacto"], correct: "A" },
                { type: 'mc', q: "Em termogênese marrom, UCP1 causa:", options: ["A: dissipação do gradiente protônico como calor", "B: superprodução de ATP", "C: bloqueio de elétrons", "D: aumento de O2"], correct: "A" },
                { type: 'mc', q: "O isocitrato desidrogenase é ativado por:", options: ["A: ADP e Ca2+", "B: ATP alto", "C: NADH excessivo", "D: succinato"], correct: "A" },
                { type: 'mc', q: "O piruvato entra no TCA via:", options: ["A: piruvato desidrogenase formando acetil-CoA", "B: carboxilase direta", "C: glicólise reversa", "D: sem enzima"], correct: "A" },
                { type: 'mc', q: "O rendimento de ATP de FADH2 é menor porque:", options: ["A: entra no Q, pulando complexo I", "B: não bombeia prótons", "C: é NADH variante", "D: bloqueia ETC"], correct: "A" },
                { type: 'mc', q: "A hipótese quimiosmótica explica fosforilação via:", options: ["A: gradiente protônico transmembrana", "B: substrato direto", "C: química orgânica", "D: equilíbrio químico"], correct: "A" }
            ],
            section4: [
                { type: 'mc', q: "Os lipídios, chamados popularmente de gorduras, são substâncias que se caracterizam principalmente por sua baixa solubilidade em água. Entre as alternativas a seguir, marque aquela que não se refere a uma importância biológica dos lipídios.", options: ["A: Funcionam como reserva energética.", "B: Atuam na impermeabilização de superfícies que sofrem com a desidratação.", "C: Fazem parte da composição da membrana plasmática.", "D: Fazem parte da composição de hormônios.", "E: Atuam como catalisadores biológicos."], correct: "E" },
                { type: 'mc', q: "(UFRN) Embora seja visto como um vilão, o colesterol é muito importante para o organismo humano porque ele é", options: ["A: precursor da síntese de testosterona e progesterona.", "B: agente oxidante dos carboidratos.", "C: responsável pela resistência de cartilagens e tendões.", "D: cofator das reações biológicas."], correct: "A" },
                { type: 'mc', q: "Fosfolipídios contêm:", options: ["A: fosfato e ácidos graxos", "B: apenas açúcares", "C: aminoácidos", "D: nucleotídeos"], correct: "A" },
                { type: 'mc', q: "Qual não é um lipídio?", options: ["A: gorduras", "B: óleos", "C: proteínas", "D: ceras"], correct: "C" },
                { type: 'mc', q: "Um ácido graxo típico tem:", options: ["A: número par de carbonos", "B: ímpares apenas", "C: sempre ramificado", "D: sem hidrogênios"], correct: "A" },
                { type: 'mc', q: "Óleos diferem de gorduras por:", options: ["A: líquido à temperatura ambiente", "B: sólido à temperatura ambiente", "C: cor", "D: número de cadeias"], correct: "A" },
                { type: 'mc', q: "O colesterol é precursor de:", options: ["A: esteroides", "B: carboidratos", "C: proteínas", "D: ácidos nucleicos"], correct: "A" },
                { type: 'mc', q: "Triglicerídeos são:", options: ["A: glicerol + 3 ácidos graxos", "B: 2 ácidos graxos", "C: apenas fosfato", "D: açúcares"], correct: "A" },
                { type: 'mc', q: "Gorduras saturadas têm:", options: ["A: sem ligações duplas", "B: muitas ligações duplas", "C: anéis", "D: ramificações"], correct: "A" },
                { type: 'mc', q: "Lipídios são insolúveis em:", options: ["A: água", "B: álcool", "C: éter", "D: clorofórmio"], correct: "A" },
                { type: 'mc', q: "HDL transporta colesterol:", options: ["A: para o fígado", "B: do fígado", "C: em ambas as direções", "D: nenhuma"], correct: "A" },
                { type: 'mc', q: "A beta-oxidação ocorre na:", options: ["A: mitocôndria", "B: citosol", "C: peroxissomos apenas", "D: RE"], correct: "A" },
                { type: 'mc', q: "A lipogênese é estimulada por:", options: ["A: insulina", "B: glucagon", "C: epinefrina", "D: cortisol"], correct: "A" },
                { type: 'mc', q: "Eicosanoides derivam de:", options: ["A: ácido araquidônico", "B: glicerol", "C: colesterol", "D: acetato"], correct: "A" },
                { type: 'mc', q: "A síntese de ácidos graxos usa FAS I para:", options: ["A: alongamento cíclico de malonil-CoA", "B: beta-oxidação reversa", "C: hidrólise direta", "D: sem NADPH"], correct: "A" },
                { type: 'mc', q: "Em aterosclerose, LDL oxidado ativa:", options: ["A: macrófagos via scavenger receptors, formando foam cells", "B: HDL protetor", "C: beta-oxidação hepática", "D: sem inflamação"], correct: "A" },
                { type: 'mc', q: "Os esfingolipídios como esfingomielina são cruciais para:", options: ["A: domínios de sinalização em membranas", "B: armazenamento calórico", "C: hidrólise ácida", "D: transporte aquoso"], correct: "A" },
                { type: 'mc', q: "A via de síntese de colesterol inicia com:", options: ["A: HMG-CoA redutase convertendo em mevalonato", "B: acetil-CoA direto", "C: squaleno hidrolisado", "D: sem regulação"], correct: "A" },
                { type: 'mc', q: "Ácidos graxos ômega-3 reduzem risco cardiovascular por:", options: ["A: produção de eicosanoides anti-inflamatórios", "B: aumento de LDL", "C: rigidez de membrana", "D: armazenamento excessivo"], correct: "A" },
                { type: 'mc', q: "As lipoproteínas VLDL transportam:", options: ["A: triglicerídeos endógenos do fígado para tecidos", "B: colesterol exógeno", "C: proteínas plasmáticas", "D: glicose ligada"], correct: "A" },
                { type: 'mc', q: "A assimetria de fosfolipídios em membranas é mantida por:", options: ["A: flippases e floppases ATP-dependentes", "B: difusão livre", "C: hidrofobicidade igual", "D: sem necessidade"], correct: "A" },
                { type: 'mc', q: "Em cetogênese hepática, acetil-CoA forma:", options: ["A: corpos cetônicos para cérebro em jejum", "B: glicose via gluconeogênese", "C: ATP direto", "D: lipídios insolúveis"], correct: "A" },
                { type: 'mc', q: "O PLA2 cliva fosfolipídios liberando:", options: ["A: ácido araquidônico para eicosanoides", "B: glicerol isolado", "C: colesterol livre", "D: sem sinalização"], correct: "A" },
                { type: 'mc', q: "A deficiência de LCAT causa:", options: ["A: acúmulo de HDL imaturo e corneais opacas", "B: hipercolesterolemia baixa", "C: beta-oxidação excessiva", "D: sem impacto visual"], correct: "A" }
            ],
            section5: [  // 10 questões abertas (distribuídas, nível avançado)
                { type: 'open', q: "Explique o mecanismo quimiosmótico na síntese de ATP, incluindo o papel do gradiente protônico.", keywords: ["quimiosmose", "gradiente protônico", "ATP sintase", "prótons"] },
                { type: 'open', q: "Descreva como a regulação alostérica da PFK-1 integra sinais energéticos na glicólise.", keywords: ["alostérica", "PFK-1", "ATP inibe", "AMP ativa", "frutose-2,6-bisfosfato"] },
                { type: 'open', q: "Discuta o papel anfibólico do ciclo de Krebs na interconexão de vias metabólicas.", keywords: ["anfibólico", "TCA", "precursores", "biossíntese", "NADH", "FADH2"] },
                { type: 'open', q: "Explique por que a beta-oxidação de ácidos graxos não pode fornecer net glicose em humanos.", keywords: ["beta-oxidação", "acetil-CoA", "piruvato carboxilase", "sem net glicose", "ciclo de Krebs"] },
                { type: 'open', q: "Descreva o impacto de mutações em genes mitocondriais na fosforilação oxidativa.", keywords: ["mutações mitocondriais", "fosforilação oxidativa", "ATP reduzido", "neuropatias", "fadiga"] },
                { type: 'open', q: "Explique o mecanismo de ação da insulina na lipogênese hepática.", keywords: ["insulina", "lipogênese", "ACC desfosforilada", "SREBP-1c", "malonil-CoA"] },
                { type: 'open', q: "Discuta o efeito Warburg em células cancerosas e suas implicações terapêuticas.", keywords: ["Warburg", "glicólise aeróbica", "biossíntese", "inibidores glicolíticos", "proliferação"] },
                { type: 'open', q: "Descreva a biossíntese de colesterol, destacando regulação por estatinas.", keywords: ["biossíntese colesterol", "HMG-CoA redutase", "estatinas inibem", "mevalonato", "feedback"] },
                { type: 'open', q: "Explique a formação de domínios lipídicos (rafts) em membranas plasmáticas.", keywords: ["rafts", "domínios lipídicos", "colesterol", "esfingolipídios", "sinalização"] },
                { type: 'open', q: "Discuta o papel dos eicosanoides na inflamação e como NSAIDs os modulam.", keywords: ["eicosanoides", "inflamação", "prostaglandinas", "NSAIDs inibem COX", "leucotrienos"] }
            ]
        };

        // Função para gerar perguntas aleatórias (suporte a MC e open)
        function generateQuestions(sectionId, pool) {
            const shuffled = shuffle([...pool]).slice(0, sectionId === 'section5' ? pool.length : 5);  // Todas as 10 para abertas
            const container = document.getElementById(`questions${sectionId.slice(-1)}`);
            shuffled.forEach((item, index) => {
                const qDiv = document.createElement('div');
                qDiv.classList.add('question');
                qDiv.dataset.type = item.type;
                if (item.type === 'mc') {
                    qDiv.dataset.correct = item.correct;
                    const p = document.createElement('p');
                    p.textContent = item.q;
                    qDiv.appendChild(p);
                    const optionsDiv = document.createElement('div');
                    optionsDiv.classList.add('options');
                    item.options.forEach(opt => {
                        const [value, text] = opt.split(': ');
                        const btn = document.createElement('button');
                        btn.classList.add('option');
                        btn.dataset.value = value;
                        btn.textContent = opt;
                        optionsDiv.appendChild(btn);
                    });
                    qDiv.appendChild(optionsDiv);
                } else {  // open
                    qDiv.dataset.keywords = item.keywords.join(',');
                    const p = document.createElement('p');
                    p.textContent = item.q;
                    qDiv.appendChild(p);
                    const textarea = document.createElement('textarea');
                    textarea.classList.add('open-answer');
                    textarea.placeholder = 'Digite sua resposta aqui...';
                    qDiv.appendChild(textarea);
                }
                container.appendChild(qDiv);
            });
        }

        // Gerar perguntas ao carregar
        window.addEventListener('load', () => {
            generateQuestions('section1', questionPools.section1);
            generateQuestions('section2', questionPools.section2);
            generateQuestions('section3', questionPools.section3);
            generateQuestions('section4', questionPools.section4);
            generateQuestions('section5', questionPools.section5);

            // Adicionar event listeners para seleção (MC)
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('option')) {
                    const options = e.target.parentElement.querySelectorAll('.option');
                    options.forEach(opt => opt.classList.remove('selected'));
                    e.target.classList.add('selected');
                }
            });
        });

        function checkAnswers(sectionId) {
            const section = document.getElementById(sectionId);
            const questions = section.querySelectorAll('.question');
            let correctCount = 0;
            let totalQuestions = 0;
            let errors = [];

            questions.forEach((q, index) => {
                totalQuestions++;
                if (q.dataset.type === 'mc') {
                    const selected = q.querySelector('.option.selected');
                    const correct = q.dataset.correct;
                    if (selected && selected.dataset.value === correct) {
                        correctCount++;
                    } else {
                        const questionText = q.querySelector('p').textContent;
                        const selectedValue = selected ? selected.textContent : 'Nenhuma selecionada';
                        const correctOption = Array.from(q.querySelectorAll('.option')).find(opt => opt.dataset.value === correct).textContent;
                        errors.push(`${questionText} - Sua resposta: ${selectedValue} (Errada). Correta: ${correctOption}`);
                    }
                } else {  // open
                    const answer = q.querySelector('.open-answer').value.toLowerCase().trim();
                    const keywords = q.dataset.keywords.split(',').map(k => k.toLowerCase().trim());
                    const matches = keywords.filter(kw => answer.includes(kw)).length;
                    if (matches >= 2) {  // Pelo menos 2 keywords para "correto"
                        correctCount++;
                    } else {
                        const questionText = q.querySelector('p').textContent;
                        errors.push(`${questionText} - Resposta parcial/errada. Sugestão: Inclua termos como ${keywords.slice(0,3).join(', ')}...`);
                    }
                }
            });

            const feedback = document.getElementById(`feedback${sectionId.slice(-1)}`);
            feedback.innerHTML = `<span class="${correctCount === totalQuestions ? 'correct' : 'incorrect'}">Você acertou ${correctCount} de ${totalQuestions} questões.</span>`;

            const result = document.getElementById(`result${sectionId.slice(-1)}`);
            result.style.display = 'block';
            if (errors.length === 0) {
                result.innerHTML = '<p class="correct">Todas corretas! Parabéns!</p>';
            } else {
                result.innerHTML = '<h3>Erros Detalhados:</h3><ul>' + errors.map(err => `<li>${err}</li>`).join('') + '</ul>';
            }
        }
    </script>
</body>
</html>
